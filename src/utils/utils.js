export const allResults = {
    kind: "Listing",
    data: {
        children: [{
            kind: "t3",
            data: {
                title: "Zelensky\u2019s phone call to Macron to inform him that the invasion started. ",
                subreddit_name_prefixed: "r/interestingasfuck",
                ups: 15930,
                thumbnail: "https://external-preview.redd.it/dGNtcmo4bzgwNG9jMRylDY3oY-YI1keQIC5yGmAOw7TBxHzy-LLknEBLC1T6.png?width=140&amp;height=78&amp;crop=140:78,smart&amp;format=jpg&amp;v=enabled&amp;lthumb=true&amp;s=b659706309175eb7adfccf80f11b05b5d599cef1",
                author: "Exact-Quote3464",
                permalink: "/r/interestingasfuck/comments/1bdsfkm/zelenskys_phone_call_to_macron_to_inform_him_that/",
                created_utc: 1710339098.0,
                num_comments: 1327,
            }
        },
        {
            kind: "t3",
            data: {
                title: "Snoop Dogg signing his autograph, in Japanese, at a Walmart",
                subreddit_name_prefixed: "r/oddlysatisfying",
                ups: 19038,
                thumbnail: "https://external-preview.redd.it/b29kZGY1cGNvM29jMRAILLvG9Bah3AwuTTErmJcVDHEgrGMijJlGYfZFGjNG.png?width=140&amp;height=140&amp;crop=140:140,smart&amp;format=jpg&amp;v=enabled&amp;lthumb=true&amp;s=5ff4cc51e337a3face5261cf73394cf3b823b6e0",
                author: "CommercialBox4175",
                num_comments: 463,
                permalink: "/r/oddlysatisfying/comments/1bdqyd9/snoop_dogg_signing_his_autograph_in_japanese_at_a/",
                created_utc: 1710335096.0,
            }
        },
        {
            kind: "t3",
            data: {
                title: "The greatest genius of our time",
                subreddit_name_prefixed: "r/facepalm",
                ups: 36136,
                thumbnail: "https://b.thumbs.redditmedia.com/uUARbv2T5Ig2_jB32B1XEosnr1HHAzOxqfNEOMZ3HoY.jpg",
                author: "JewelerDear9233",
                num_comments: 1060,
                permalink: "/r/facepalm/comments/1bdpok1/the_greatest_genius_of_our_time/",
                created_utc: 1710331126.0,
            }
        },
        {
            kind: "t3",
            data: {
                title: "Japans first privately developed rocket explodes seconds after lift off",
                subreddit_name_prefixed: "r/spaceporn",
                ups: 20567,
                thumbnail: "https://b.thumbs.redditmedia.com/PkwHIk1VHGjikrx-68K33_N0qdSp8QIOL3H6Kq7wEUU.jpg",
                author: "mdruhulkuddus",
                num_comments: 847,
                permalink: "/r/spaceporn/comments/1bdqdto/japans_first_privately_developed_rocket_explodes/",
                created_utc: 1710333345.0,
            }
        },
        {
            kind: "t3",
            data: {
                title: "Paul Alexander (78) dies after being in an iron lung for 70 years after a Polio infection",
                subreddit_name_prefixed: "r/pics",
                ups: 51534,
                thumbnail: "https://b.thumbs.redditmedia.com/FReb_iitBzNg3vGBKo43P5H924D4BSp0mXyHqhQAw-U.jpg",
                author: "Psy-Demon",
                num_comments: 1802,
                permalink: "/r/pics/comments/1bdord8/paul_alexander_78_dies_after_being_in_an_iron/",
                created_utc: 1710327927.0,
            }
        },
        {
            kind: "t3",
            data: {
                title: "During Lily Gladstone \u2019s high school years, her first boyfriend gave her a gift. A star glasses he got from a gift machine. He said, \"You have to put those glasses away and wear them to the Oscars when you go one day. \u201d She wore it during and after the Oscars",
                subreddit_name_prefixed: "r/popculturechat",
                ups: 11651,
                thumbnail: "https://b.thumbs.redditmedia.com/4UW7ErLvBCubK_hZ6gKy1iQeVheTd3EQMiGgVEwKauw.jpg",
                author: "Naweezy",
                num_comments: 160,
                permalink: "/r/popculturechat/comments/1bdqomi/during_lily_gladstones_high_school_years_her/",
                created_utc: 1710334301.0,
            }
        },
        {
            kind: "t3",
            data: {
                title: "You are warned, Disney.",
                subreddit_name_prefixed: "r/madlads",
                ups: 19333,
                thumbnail: "https://b.thumbs.redditmedia.com/ppL_wnf-OA5-goBSz4Mxd3u8JeMx2hwk-ce0-auw0Eo.jpg",
                author: "jotazepp",
                num_comments: 347,
                permalink: "/r/madlads/comments/1bdq0bh/you_are_warned_disney/",
                created_utc: 1710332154.0,
            }
        },
        {
            kind: "t3",
            data: {
                title: "This Shoebill Stork in the rain",
                subreddit_name_prefixed: "r/BeAmazed",
                ups: 12110,
                thumbnail: "https://external-preview.redd.it/czlvamZmYThsM29jMYmxFMJZBs1bUTLcVFlZSxXDuD13hWY5R-Q8OtWlg3W2.png?width=140&amp;height=140&amp;crop=140:140,smart&amp;format=jpg&amp;v=enabled&amp;lthumb=true&amp;s=6efa4ceb6b3958a95fd526959f935e02718a72cd",
                author: "Low_Special715",
                num_comments: 839,
                permalink: "/r/BeAmazed/comments/1bdqlv7/this_shoebill_stork_in_the_rain/",
                created_utc: 1710334052.0,
                media: {
                    reddit_video: {
                        bitrate_kbps: 2400,
                        fallback_url: "https://v.redd.it/wwwbqhi8l3oc1/DASH_720.mp4?source=fallback",
                        has_audio: true,
                        height: 1280,
                        width: 720,
                        scrubber_media_url: "https://v.redd.it/wwwbqhi8l3oc1/DASH_96.mp4",
                        dash_url: "https://v.redd.it/wwwbqhi8l3oc1/DASHPlaylist.mpd?a=1712942907%2CMDVlNGY5NmNiOGQ5NGYzOTE3MDgzNTAzNmM2MDBiMGEwYTJhMzhlNTRhN2I0OWU1NDU0N2Y3NWQ0MzQ5MjAzNA%3D%3D&amp;v=1&amp;f=sd",
                        duration: 62,
                        hls_url: "https://v.redd.it/wwwbqhi8l3oc1/HLSPlaylist.m3u8?a=1712942907%2CYTNlYTg2NTg3ZDE4NjllMGVjMDM2YjQxY2NkMjliNjY3NmY1NTA2NGMxOTZiNjAzMjlmMTg2ZWIzNmJiMjkzMw%3D%3D&amp;v=1&amp;f=sd",
                        is_gif: false,
                        transcoding_status: "completed"
                    }
                },
                is_video: true
            }
        },
        {
            kind: "t3",
            data: {
                title: "Just saying...",
                subreddit_name_prefixed: "r/clevercomebacks",
                ups: 22886,
                thumbnail: "https://b.thumbs.redditmedia.com/tqqeEnEZiCsjm4xUikxIN2TMI5LRSBL9MLi6Xo4Yxro.jpg",
                author: "Green____cat",
                num_comments: 1823,
                permalink: "/r/clevercomebacks/comments/1bdp7n9/just_saying/",
                created_utc: 1710329518.0,
            }
        },
        {
            kind: "t3",
            data: {
                title: "My cousin just turned 21. I offered to buy him a bottle of liquor to celebrate and asked what he wanted. He texted me this:",
                subreddit_name_prefixed: "r/mildlyinfuriating",
                ups: 8676,
                thumbnail: "https://b.thumbs.redditmedia.com/570mwVMbMe577UU_8t3UPbX-s9AiRtmKAUK6qcENoUY.jpg",
                author: "OrlandoWashington69",
                num_comments: 1924,
                permalink: "/r/mildlyinfuriating/comments/1bdrvoa/my_cousin_just_turned_21_i_offered_to_buy_him_a/",
                created_utc: 1710337657.0,
            }
        }],
        before: null
    }
}

export const postComments = [
    {
        kind: "Listing",
        data: {
            children: [{
                kind: "t3",
                data: {
                    selftext: "She unmatched after the last one.",
                    title: "I guess she didn\u2019t have a good cake recipe",
                    subreddit_name_prefixed: "r/Tinder",
                    ups: 3522,
                    thumbnail: "https://b.thumbs.redditmedia.com/gwQAPwEsqPPqPQqYtE_3Sw-L-jpGNkVNf4RTRrAz8ds.jpg",
                    num_comments: 403,
                    created_utc: 1706086522.0,
                    gallery_data: {
                        items: [{
                            media_id: "xp4w67x5rcec1"},{
                            media_id: "7mekk4x5rcec1"},{
                            media_id: "fm7rr6x5rcec1"},{
                            media_id: "hdv1q5x5rcec1"}]
                    },
                    media_metadata: {
                        "fm7rr6x5rcec1": {
                            s: {u: "https://preview.redd.it/fm7rr6x5rcec1.jpg?width=750&format=pjpg&auto=webp&s=c82ed17946e2d8065045aa138dd837e20e058b3b"},
                        },
                        hdv1q5x5rcec1: {
                            s: {u: "https://preview.redd.it/hdv1q5x5rcec1.jpg?width=750&format=pjpg&auto=webp&s=ede81086162f4fc0dad57359feec6025fe67be85"},
                        },
                        xp4w67x5rcec1: {
                            s: { u: "https://preview.redd.it/xp4w67x5rcec1.jpg?width=750&format=pjpg&auto=webp&s=f2f2d0083a33de80c666acf543e82652350478d0"},
                        },
                        "7mekk4x5rcec1": {
                            s: {u: "https://preview.redd.it/7mekk4x5rcec1.jpg?width=750&format=pjpg&auto=webp&s=709a2dcf02c96f9d351d67e241b7316864049500"},
                        }
                    },
                }
            }]
        }
    },
    {
        kind: "Listing",
        data: {
            children: [{
                kind: "t1",
                data: {
                    replies: {
                        kind: "Listing",
                        data: {
                            children: [{
                                kind: "t1",
                                data: {
                                    replies: {
                                        kind: "Listing",
                                        data: {
                                            children: [{
                                                kind: "t1",
                                                data: {
                                                    replies: {
                                                        kind: "Listing",
                                                        data: {
                                                            children: [{
                                                                kind: "t1",
                                                                data: {
                                                                    replies: {
                                                                        kind: "Listing",
                                                                        data: {
                                                                            children: [{
                                                                                kind: "t1",
                                                                                data: {
                                                                                    replies: {
                                                                                        kind: "Listing",
                                                                                        data: {
                                                                                            children: [{
                                                                                                kind: "t1",
                                                                                                data: {
                                                                                                    replies: "",
                                                                                                    author: "Self-Aware",
                                                                                                    body: "Oof, bless her! To be fair I didn't know how to cook properly til my mid-twenties, it's a sadly maligned skill while yet in childhood. \n\n\nWhere I am we have both pre-do lasagne sheets and those that CAN be put un-softened into a lasagne, but mixing them up is all too easy. Personally I can't do much gluten, but Morrisons-own GF lasagne sheets are excellent and do not require pre-cooking. Their GF spaghetti is pretty damn good too, and both are the same price as regular versions, but FFS avoid the macaroni. I've no idea how they buggered up that specific product so badly but I've cooked it for three times the recommended time and STILL not approached al dente.",
                                                                                                    created_utc: 1706133164.0,
                                                                                                    ups: 8
                                                                                                }
                                                                                            },
                                                                                            {
                                                                                                kind: "t1",
                                                                                                data: {
                                                                                                    replies: {
                                                                                                        kind: "Listing",
                                                                                                        data: {
                                                                                                            children: [{
                                                                                                                kind: "more",
                                                                                                                data: {
                                                                                                                    count: 1,
                                                                                                                    name: "t1_kk0ll49",
                                                                                                                    id: "kk0ll49",
                                                                                                                    parent_id: "t1_kjes4cy",
                                                                                                                    depth: 6,
                                                                                                                    children: ["kk0ll49"]
                                                                                                                }
                                                                                                            }],
                                                                                                        }
                                                                                                    },
                                                                                                    author: "Self-Aware",
                                                                                                    body: "Also, I have actually made lasagne as a present before when too broke to buy something commercial. I very much appreciate your perspective on the matter, I had felt like such a cheapskate doing so!",
                                                                                                    created_utc: 1706133217.0,
                                                                                                    ups: 3
                                                                                                }
                                                                                            },
                                                                                            {
                                                                                                kind: "more",
                                                                                                data: {
                                                                                                    count: 1,
                                                                                                    name: "t1_kjtfmk0",
                                                                                                    id: "kjtfmk0",
                                                                                                    parent_id: "t1_kjepnq2",
                                                                                                    depth: 5,
                                                                                                    children: ["kjtfmk0"]
                                                                                                }
                                                                                            }],
                                                                                        }
                                                                                    },
                                                                                    author: "OhUSilly",
                                                                                    body: "I'm a 6'2 man and I'd jump for joy if someone made a from scratch lasagna lol. You probably could get away with not buying gifts for any event with that recipe.\n\nWhen my now wife made lasagna for the first time earlier on in our relationship, she thought she didn't need to boil the noodles so she just put them on top and baked everything. Needless to say we ordered out that night lol.",
                                                                                    created_utc: 1706132413.0,
                                                                                    ups: 4
                                                                                }
                                                                            }],
                                                                        }
                                                                    },
                                                                    author: "Self-Aware",
                                                                    body: "I even make the sauces myself, mind you. I do need notice to make a lasagne, as the meat needs to be marinated and cooked the day before. But by gods it's worth it! The recipes I count as my best? I count them as so because I have NEVER made them for another person, without that person demanding seconds. Or indeed thirds. Fourths has happened once, but that dude was 6'5\" so naturally needed more food.",
                                                                    created_utc: 1706132248.0,
                                                                    ups: 10
                                                                }
                                                            }],
                                                        }
                                                    },
                                                    author: "OhUSilly",
                                                    body: "I would accept a homemade lasagne with absolute glee, so can confirm",
                                                    created_utc: 1706131863.0,
                                                    ups: 35
                                                }
                                            },
                                            {
                                                kind: "t1",
                                                data: {
                                                    replies: "",
                                                    author: "Cap-in-cloud",
                                                    body: "\u201cI make main, and you be the dessert\u201d*",
                                                    created_utc: 1706186014.0,
                                                    ups: 3
                                                }
                                            },
                                            {
                                                kind: "t1",
                                                data: {
                                                    replies: {
                                                        kind: "Listing",
                                                        data: {
                                                            children: [{
                                                                kind: "t1",
                                                                data: {
                                                                    replies: {
                                                                        kind: "Listing",
                                                                        data: {
                                                                            children: [{
                                                                                kind: "more",
                                                                                data: {
                                                                                    count: 2,
                                                                                    name: "t1_kjun5ib",
                                                                                    id: "kjun5ib",
                                                                                    parent_id: "t1_kjtce3u",
                                                                                    depth: 4,
                                                                                    children: ["kjun5ib"]
                                                                                }
                                                                            }],
                                                                        }
                                                                    },
                                                                    author: "ThatThingYouDontKnow",
                                                                    body: "Is this not standard in relationships?",
                                                                    created_utc: 1706369008.0,
                                                                    ups: 2
                                                                }
                                                            }],
                                                        }
                                                    },
                                                    author: "darknighties",
                                                    body: "I don't eat dessert, so I'd offer dinner if he washed the dishes",
                                                    created_utc: 1706185770.0,
                                                    ups: 2
                                                }
                                            },
                                            {
                                                kind: "t1",
                                                data: {
                                                    replies: {
                                                        kind: "Listing",
                                                        data: {
                                                            children: [{
                                                                kind: "more",
                                                                data: {
                                                                    count: 3,
                                                                    name: "t1_kk8oxzn",
                                                                    id: "kk8oxzn",
                                                                    parent_id: "t1_kjq6czu",
                                                                    depth: 3,
                                                                    children: ["kk8oxzn"]
                                                                }
                                                            }],
                                                        }
                                                    },
                                                    author: "Froomavitch",
                                                    body: "Can I have a lasagne please???",
                                                    created_utc: 1706309066.0,
                                                    ups: 2
                                                }
                                            },
                                            {
                                                kind: "more",
                                                data: {
                                                    count: 2,
                                                    name: "t1_kjkm5um",
                                                    id: "kjkm5um",
                                                    parent_id: "t1_kjdy40w",
                                                    depth: 2,
                                                    children: ["kjkm5um"]
                                                }
                                            }],
                                        }
                                    },
                                    author: "Self-Aware",
                                    created_utc: 1706123474.0,
                                    body: "Personally I'm crap at baking, but I'm an excellent cook. And I've yet to meet a man or woman who won't very happily accept a homemade lasagne instead. I figure \"I make main, you make dessert\" is a good deal for everyone.",
                                    ups: 87
                                }
                            },
                            {
                                kind: "t1",
                                data: {
                                    replies: "",
                                    author: "Fuzzy-Boss-4815",
                                    created_utc: 1706201713.0,
                                    body: "OMG she lost out, this dude is a good one. Idk what her problem is. He is sweet and witty, and he has the patience of Job. In my tinder days it was a struggle to find a guy who wrote actual sentences rather \"wyd\" or \"dtf\" \ud83d\ude02 I don't think he will have trouble finding a good girl tho, let the bad ones weed themselves out honey \ud83d\udc4d\n\nAnd the fact that she ignored his bad day did not escape my attention, honestly effort goes both ways and she ain't it \ud83e\udd37\u200d\u2640\ufe0f",
                                    ups: 9
                                }
                            },
                            {
                                kind: "t1",
                                data: {
                                    replies: "",
                                    author: "LittleFeetTreats",
                                    created_utc: 1706202024.0,
                                    body: "I feel like it'd be overcooked......",
                                    ups: 3
                                }
                            }],
                        }
                    },
                    author: "OvercookedOpossum",
                    created_utc: 1706106430.0,
                    body: "If I ever end up dating again, it\u2019s definitely going to include \u201cI\u2019ll bring the cake if you get the coffee.\u201d",
                    ups: 357
                }
            }]
        }
    }
]

export const fetchPostsBySearchTerm = async ({searchTerm, resultType}) => {
    let kind = 't3';
    if(resultType==='comment'){kind = 'comment'}
    if(!searchTerm){
        const response = await fetch('https://www.reddit.com/r/all/.json');
        const json = await response.json();
        return json.data.children.map((post) =>{
            if(post.kind===kind){
                return post.data;
            }
        });
        // return allResults.data.children.map((child)=>child.data)
    } else{
        const response = await fetch(`https://www.reddit.com/search.json?q=${searchTerm}&type=${resultType}`);
        const json = await response.json();
        return json.data.children.map((post) =>{
            if(post.kind===kind){
                return post.data;
            }
        });
        // return allResults.data.children.map((child)=>child.data)
    }
};
export const fetchCommentsByPermalink = async (permalink) => {
    // const response = await fetch(`https://www.reddit.com/r/${permalink}.json`);
    // const json = await response.json();
    // return json.data.children.map((post) => post.data);
    return postComments;
};
export const getAgeString = (created) =>{
    const createdob = new Date(created*1000);        
    const now = new Date();
    const mselapsed = now-createdob;//milliseconds since post creation
    if((mselapsed)<31556952000){//a year
        if((mselapsed)<2629746000){//a month
            if((mselapsed)<604800000){//a week
                if((mselapsed)<86400000){//a day
                    if((mselapsed)<3600000){//an hour
                        return `${Math.floor(mselapsed/60000)} ${Math.floor(mselapsed/60000)===1?'minute':'minutes'}`;
                    } else{ return `${Math.floor(mselapsed/3600000)} ${Math.floor(mselapsed/3600000)===1?'hour':'hours'}`}
                } else{ return `${Math.floor(mselapsed/86400000)} ${Math.floor(mselapsed/86400000)===1?'day':'days'}`}
            } else{ return `${Math.floor(mselapsed/604800000)} ${Math.floor(mselapsed/604800000)===1?'week':'weeks'}`}
        } else{ return `${Math.floor(mselapsed/2629746000)} ${Math.floor(mselapsed/2629746000)===1?'month':'months'}`}
    } else{ return `${Math.floor(mselapsed/31556952000)} ${Math.floor(mselapsed/31556952000)===1?'year':'years'}`}
}